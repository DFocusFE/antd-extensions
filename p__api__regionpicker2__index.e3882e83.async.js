(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{QH8i:function(e,t,n){"use strict";n.r(t);var a=n("MVZn"),r=n.n(a),l=n("q1tI"),c=n.n(l),o=n("jvB/"),i=n("dS2j"),s=n("+M+s"),u=n("hd6q"),d=n("frnR");class m extends l["Component"]{constructor(e){super(e),this._convertData=(e=>{return e.map(e=>r()({label:e.name,value:e.id},e))}),this.state={value:{country:{value:1},state:{value:3},city:{value:5},district:{value:13},building:{value:160},floor:{value:1100}}}}render(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"\u7528\u6cd5"),c.a.createElement(i["a"],{language:"jsx"},"// jsx\u7ec4\u4ef6\u4f7f\u7528\n<RegionPicker2 \n  placeholder={Placeholder}\n  disabled={Disabled}\n  getPopupContainer={GetPopupContainer}\n  defaultConstructLevel={DefaultConstructLevel}\n  dataRetriever={DataRetriever}\n  value={Value}\n  onChange={OnChange}\n  cache={Cache}\n/>"),c.a.createElement("br",null),c.a.createElement(u["a"],{data:[{prop:"placeholder",type:"String",description:"\u9ed8\u8ba4\u503c\uff1a\u8bf7\u9009\u62e9\u533a\u57df\u4fe1\u606f"},{prop:"defaultConstructLevel",type:"Number",description:c.a.createElement(c.a.Fragment,null,"\u63a7\u5236\u7ec4\u4ef6\u63d0\u4f9b\u591a\u5c11\u7ea7\u5185\u5bb9\uff0c\u9ed8\u8ba4",c.a.createElement("code",{className:"codeRef"},"4"),"\u7ea7\uff0c\u5373\uff1a\u56fd\u5bb6\u3001\u7701\u3001\u5e02\u3001\u533a\u3001\u697c\u3001\u697c\u5c42")},{prop:"disabled",type:"Boolean",description:"\u662f\u5426\u7981\u7528\u8be5\u7ec4\u4ef6"},{prop:"getPopupContainer",type:"Function(node: HTMLElement) => HTMLElement",description:"\u9ed8\u8ba4\u503c\uff1a() => document.body"},{prop:"value",type:"Object",description:c.a.createElement(c.a.Fragment,null,"\u4e00\u4e2a\u5305\u542b\u4e86\u9884\u9009\u503c\u5185\u5bb9\u7684\u5bf9\u8c61",c.a.createElement("code",{className:"codeRef"},"{ country: { value: string }, state: { value: string }, city: { value: string }, district: { value: string }, building: { value: string }, floor: { value: string } }"))},{prop:"dataRetriever",type:"Function(type: String, prevObj) => Promise<Array<{label: String, value: String}>>",description:c.a.createElement(c.a.Fragment,null,"\u6570\u636e\u6293\u53d6\u51fd\u6570\uff0c\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c",c.a.createElement("code",{className:"codeRef"},"type"),"\u548c",c.a.createElement("code",{className:"codeRef"},"prevObj"),"\u3002 \u5176\u4e2d",c.a.createElement("br",null),c.a.createElement("code",{className:"codeRef"},"type"),"\u53ef\u80fd\u503c\u662f\uff1a",c.a.createElement("code",{className:"codeRef"},"country"),",",c.a.createElement("code",{className:"codeRef"},"state"),",",c.a.createElement("code",{className:"codeRef"},"city"),",",c.a.createElement("code",{className:"codeRef"},"district"),";",c.a.createElement("br",null),c.a.createElement("code",{className:"codeRef"},"prevObj"),"\u662f\u524d\u4e00\u4e2a\u4e0b\u62c9\u533a\u57df\u9009\u62e9\u7684\u503c\u3002",c.a.createElement("br",null),"\u8fd4\u56de\u503c\u5fc5\u987b\u662f\u4e00\u4e2a",c.a.createElement("code",{className:"codeRef"},"Promise<Array<{ label: String, value: String }>>"))},{prop:"onChange",type:"Function(val)",description:c.a.createElement(c.a.Fragment,null,"\u9009\u62e9\u56de\u8c03\uff0c\u503c\u4e3a\uff1a",c.a.createElement("code",{className:"codeRef"},"{ country: { value: string }, state?: { value: string }, city?: { value: string }, district?: { value: string } }"))},{prop:"cache",type:"{getItem: Function, setItem: Function, clear: Function, removeItem: Function}",description:c.a.createElement(c.a.Fragment,null,"\u6570\u636e\u7f13\u5b58\u5668\uff0c\u5fc5\u987b\u662f\u4e00\u4e2a\u7c7b\u4f3c",c.a.createElement("code",{className:"codeRef"},"sessionStorage"),"\uff0c\u6216\u8005",c.a.createElement("code",{className:"codeRef"},"localStorage"),"\u7684\uff0c",c.a.createElement("br",null),"\u5b9e\u73b0\u4e86",c.a.createElement("code",{className:"codeRef"},"{ getItem: Function, setItem: Function, clear: Function, removeItem: Function }"),c.a.createElement("br",null),"\u5c5e\u6027\u7684\u5bf9\u8c61\uff0c\u9ed8\u8ba4\u503c\u662f\uff1a",c.a.createElement("code",{className:"codeRef"},"sessionStorage"))}]}),c.a.createElement("br",null),c.a.createElement("div",{className:"mapExample"},c.a.createElement("h3",null,"\u793a\u4f8b"),c.a.createElement("br",null),c.a.createElement(o["d"],{style:{width:"380px"},value:this.state.value,defaultConstructLevel:6,dataRetriever:(e,t)=>{return"country"===e?Object(d["c"])(e).then(this._convertData):"state"===e?Object(d["f"])(t.value).then(this._convertData):"city"===e?Object(d["b"])(t.value).then(this._convertData):"district"===e?Object(d["d"])(t.value).then(this._convertData):"building"===e?Object(d["a"])(t.value).then(this._convertData):"floor"===e?Object(d["e"])(t.value).then(this._convertData):void 0},onChange:e=>{this.setState({value:e})}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("p",null,"\u60a8\u9009\u62e9\u4e86\uff1a",JSON.stringify(this.state.value)),c.a.createElement("br",null),c.a.createElement(i["a"],{language:"jsx"},"import React from 'react'\nimport { RegionPicker } from 'antd-extensions'\n\nexport default class Example extends React.Component {\n  \n  constructor(props){\n    super(props)\n\n    this.state = {\n      value: {\n        country: {\n          value: 1\n        },\n        state: {\n          value: 3\n        },\n        city: {\n          value: 5\n        },\n        district: {\n          value: 13\n        },\n        building: {\n          value: 160\n        },\n        floor: {\n          value: 1100\n        }\n      }\n    }\n  }\n\n  _convertData = list => {\n    return list.map(r => ({ label: r.name, value: r.id, ...r }))\n  }\n\n  render() {\n    return (\n      <RegionPicker\n        style={{ width: '380px' }}\n        value={this.state.value}\n        defaultConstructLevel={6}\n        dataRetriever={(type, prevObj) => {\n          if (type === 'country') {\n            return fetchCountries(type).then(this._convertData)\n          }\n          if (type === 'state') {\n            return fetchStates(prevObj.value).then(this._convertData)\n          }\n          if (type === 'city') {\n            return fetchCities(prevObj.value).then(this._convertData)\n          }\n          if (type === 'district') {\n            return fetchDistricts(prevObj.value).then(this._convertData)\n          }\n          if (type === 'building') {\n            return fetchBuildings(prevObj.value).then(this._convertData)\n          }\n          if (type === 'floor') {\n            return fetchFloors(prevObj.value).then(this._convertData)\n          }\n        }}\n        onChange={val => {\n          this.setState({\n            value: val\n          })\n        }}\n      />\n    )\n  }\n}\n")))}}t["default"]=Object(s["a"])(m)}}]);