(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{QH8i:function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("MVZn")),c=n(a("q1tI")),u=a("jvB/"),s=l(a("dS2j")),d=l(a("+M+s")),o=l(a("hd6q")),i=a("frnR");class f extends c.Component{constructor(e){super(e),this._convertData=(e=>{return e.map(e=>(0,r.default)({label:e.name,value:e.id},e))}),this.state={value:{country:{value:1},state:{value:3},city:{value:5},district:{value:13}}}}render(){return c.default.createElement(c.default.Fragment,null,c.default.createElement("h3",null,"\u7528\u6cd5"),c.default.createElement(s.default,{language:"jsx"},"// jsx\u7ec4\u4ef6\u4f7f\u7528\n<RegionPicker2 \n  placeholder={Placeholder}\n  disabled={Disabled}\n  getPopupContainer={GetPopupContainer}\n  defaultConstructLevel={DefaultConstructLevel}\n  dataRetriever={DataRetriever}\n  value={Value}\n  onChange={OnChange}\n  cache={Cache}\n/>"),c.default.createElement("br",null),c.default.createElement(o.default,{data:[{prop:"placeholder",type:"String",description:c.default.createElement(c.default.Fragment,null,"\u663e\u793aplaceholders\u679a\u4e3e\uff0c\u9ed8\u8ba4\u503c\uff1a",c.default.createElement("code",{className:"codeRef"},"{ country: '\u8bf7\u9009\u62e9\u56fd\u5bb6', state: '\u8bf7\u9009\u62e9\u7701', city: '\u8bf7\u9009\u62e9\u5e02', district: '\u8bf7\u9009\u62e9\u533a', noData: '\u65e0\u6570\u636e' }"))},{prop:"defaultConstructLevel",type:"Number",description:c.default.createElement(c.default.Fragment,null,"\u63a7\u5236\u7ec4\u4ef6\u63d0\u4f9b\u591a\u5c11\u7ea7\u5185\u5bb9\uff0c\u9ed8\u8ba4",c.default.createElement("code",{className:"codeRef"},"4"),"\u7ea7\uff0c\u5373\uff1a\u56fd\u5bb6\u3001\u7701\u3001\u5e02\u3001\u533a")},{prop:"disabled",type:"Boolean",description:"\u662f\u5426\u7981\u7528\u8be5\u7ec4\u4ef6"},{prop:"getPopupContainer",type:"Function(node: HTMLElement) => HTMLElement",description:"\u9ed8\u8ba4\u503c\uff1a() => document.body"},{prop:"value",type:"Object",description:c.default.createElement(c.default.Fragment,null,"\u4e00\u4e2a\u5305\u542b\u4e86\u9884\u9009\u503c\u5185\u5bb9\u7684\u5bf9\u8c61",c.default.createElement("code",{className:"codeRef"},"{ country: { value: string }, state: { value: string }, city: { value: string }, district: { value: string } }"))},{prop:"dataRetriever",type:"Function(type: String, prevObj) => Promise<Array<{label: String, value: String}>>",description:c.default.createElement(c.default.Fragment,null,"\u6570\u636e\u6293\u53d6\u51fd\u6570\uff0c\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c",c.default.createElement("code",{className:"codeRef"},"type"),"\u548c",c.default.createElement("code",{className:"codeRef"},"prevObj"),"\u3002 \u5176\u4e2d",c.default.createElement("br",null),c.default.createElement("code",{className:"codeRef"},"type"),"\u53ef\u80fd\u503c\u662f\uff1a",c.default.createElement("code",{className:"codeRef"},"country"),",",c.default.createElement("code",{className:"codeRef"},"state"),",",c.default.createElement("code",{className:"codeRef"},"city"),",",c.default.createElement("code",{className:"codeRef"},"district"),";",c.default.createElement("br",null),c.default.createElement("code",{className:"codeRef"},"prevObj"),"\u662f\u524d\u4e00\u4e2a\u4e0b\u62c9\u533a\u57df\u9009\u62e9\u7684\u503c\u3002",c.default.createElement("br",null),"\u8fd4\u56de\u503c\u5fc5\u987b\u662f\u4e00\u4e2a",c.default.createElement("code",{className:"codeRef"},"Promise<Array<{ label: String, value: String }>>"))},{prop:"onChange",type:"Function(val)",description:c.default.createElement(c.default.Fragment,null,"\u9009\u62e9\u56de\u8c03\uff0c\u503c\u4e3a\uff1a",c.default.createElement("code",{className:"codeRef"},"{ country: { value: string }, state?: { value: string }, city?: { value: string }, district?: { value: string } }"))},{prop:"cache",type:"{getItem: Function, setItem: Function, clear: Function, removeItem: Function}",description:c.default.createElement(c.default.Fragment,null,"\u6570\u636e\u7f13\u5b58\u5668\uff0c\u5fc5\u987b\u662f\u4e00\u4e2a\u7c7b\u4f3c",c.default.createElement("code",{className:"codeRef"},"sessionStorage"),"\uff0c\u6216\u8005",c.default.createElement("code",{className:"codeRef"},"localStorage"),"\u7684\uff0c",c.default.createElement("br",null),"\u5b9e\u73b0\u4e86",c.default.createElement("code",{className:"codeRef"},"{ getItem: Function, setItem: Function, clear: Function, removeItem: Function }"),c.default.createElement("br",null),"\u5c5e\u6027\u7684\u5bf9\u8c61\uff0c\u9ed8\u8ba4\u503c\u662f\uff1a",c.default.createElement("code",{className:"codeRef"},"sessionStorage"))}]}),c.default.createElement("br",null),c.default.createElement("div",{className:"mapExample"},c.default.createElement("h3",null,"\u793a\u4f8b"),c.default.createElement("br",null),c.default.createElement(u.RegionPicker2,{style:{width:"300px"},value:this.state.value,defaultConstructLevel:4,dataRetriever:(e,t)=>{return"country"===e?(0,i.fetchCountries)(e).then(this._convertData):"state"===e?(0,i.fetchStates)(t.value).then(this._convertData):"city"===e?(0,i.fetchCities)(t.value).then(this._convertData):"district"===e?(0,i.fetchDistricts)(t.value).then(this._convertData):void 0},onChange:e=>{this.setState({value:e})}}),c.default.createElement("br",null),c.default.createElement("br",null),c.default.createElement("p",null,"\u60a8\u9009\u62e9\u4e86\uff1a",JSON.stringify(this.state.value)),c.default.createElement("br",null),c.default.createElement(s.default,{language:"jsx"},"import React from 'react'\nimport { RegionPicker } from 'antd-extensions'\n\nexport default class Example extends React.Component {\n  \n  constructor(props){\n    super(props)\n\n    this.state = {\n      value: {\n        country: {\n          value: 1\n        },\n        state: {\n          value: 3\n        },\n        city: {\n          value: 5\n        },\n        district: {\n          value: 13\n        }\n      }\n    }\n  }\n\n  _convertData = list => {\n    return list.map(r => ({ label: r.name, value: r.id, ...r }))\n  }\n\n  render() {\n    return (\n      <RegionPicker\n        style={{ width: '300px' }}\n        value={this.state.value}\n        defaultConstructLevel={4}\n        dataRetriever={(type, prevObj) => {\n          if (type === 'country') {\n            return fetchCountries(type).then(this._convertData)\n          }\n          if (type === 'state') {\n            return fetchStates(prevObj.value).then(this._convertData)\n          }\n          if (type === 'city') {\n            return fetchCities(prevObj.value).then(this._convertData)\n          }\n          if (type === 'district') {\n            return fetchDistricts(prevObj.value).then(this._convertData)\n          }\n        }}\n        onChange={val => {\n          this.setState({\n            value: val\n          })\n        }}\n      />\n    )\n  }\n}\n")))}}var m=(0,d.default)(f);t.default=m}}]);